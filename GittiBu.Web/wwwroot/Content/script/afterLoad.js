function ajax(e){var t;try{if(void 0==e.url)throw new Error("Eksik ajax parametresi");var a=e.wait,n=e.waitIn;void 0==n&&(n=$("body"));var i=!0,r=void 0==e.data?"":e.data;void 0!=e.dataType&&"json"!=e.dataType.toLowerCase()&&(i=!1);e.dataType;delete e.dataType,delete e.data;var o={type:"POST",url:"",async:!0,data:""!=r&&i?JSON.stringify(r):r,contentType:i?"application/json; charset=utf-8":"",dataType:i?"json":"",timeout:18e4,beforeSend:function(){(void 0==a||a)&&(t=obje_bekleme(n))},success:function(e,t,a){if(e.redirect&&(window.location.href=r.redirect),ajaxCevapKontrol(e))return!1},error:function(e,t){if(400==e.status||0==e.status)dp("hata","Sunucu ile bağlantı kurulamıyor","",3e3);else{if(e.getResponseHeader("content-type").indexOf("text/html")>=0)return dp("hata",e.responseText),mesaj.$modalDialog.css("width","80%"),!1;void 0==e.responseJSON||ajaxCevapKontrol(e.responseJSON)||dp("hata","Ajax Hatası: "+e.responseText,3e3)}}};return $.ajax($.extend(!0,o,e))}catch(e){dp("hata","Ajax hatası: "+e.message)}finally{void 0!=t&&obje_bekleme_kaldir(t)}}function ajaxCevapKontrol(e){return void 0!=e&&1==e.ozel_tip&&(null!=e.notice&&dp(e.notice.tipi,e.notice.mesaj,e.notice.sure),void 0!=e.downloadLink&&null!=e.downloadLink&&(window.location=e.downloadLink),void 0!=e.url&&null!=e.url&&(void 0==e.sure&&(e.sure=0),setTimeout(function(){window.location.replace(e.url)},e.sure)),!0)}function dp(e,t,a){var n,i="";switch(e){case"hata":n="red","<span class='glyphicon glyphicon-remove-sign' aria-hidden='true'> </span>",i="/Content/img/hata.png";break;case"uyari":n="yellow","<span class='glyphicon glyphicon-exclamation-sign' aria-hidden='true'> </span>",i="/Content/img/uyari.png";break;case"basarili":n="green","<span class='glyphicon glyphicon-ok-sign' aria-hidden='true'> </span>",i="/Content/img/basarili.png";break;case"bilgi":n="blue","<span class='glyphicon glyphicon-info-sign' aria-hidden='true'> </span>",i="/Content/img/bilgi.png";break;default:n="black"}return new jBox("Notice",{title:"",content:"<img src='"+i+"' height='25' width='25' style='margin-top: -4px;'>                     <strong><span style='font-weight:600;font-size:larger;'>"+t+"</span></strong>                  ",autoClose:void 0!=a&&-1!=a&&a,color:n,closeOnClick:!1,draggable:"title",animation:{open:"pulse",close:"flip"},closeOnEsc:!0,maxWidth:500,offset:{x:10,y:40}})}function dialogKaldir(e){e.close()}function Exception(e){this.message=e,this.name="Exception"}Array.prototype.removeValue=function(e,t){var a=$.map(this,function(a,n){return a[e]===t?null:a});this.length=0,this.push.apply(this,a)},$.fn.exists=function(){return 0!==this.length},$.fn.hasAttr=function(e){return void 0!==this.attr(e)},Number.prototype.formatMoney=function(e,t,a){var n=this,i=(e=isNaN(e=Math.abs(e))?2:e,t=void 0==t?decimal_seperator:t,a=void 0==a?thousand_seperator:a,n<0?"-":""),r=String(parseInt(n=Math.abs(Number(n)||0).toFixed(e))),o=(o=r.length)>3?o%3:0;return i+(o?r.substr(0,o)+a:"")+r.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+a)+(e?t+Math.abs(n-r).toFixed(e).slice(2):"")},$.fn.prmOlustur=function(){var e;try{if(e=$(this).find("input[disabled],select[disabled]").removeAttr("disabled"),!this.is("form"))throw new Exception("Parametre oluştur fonksyonu sadece form elementleri ile çalışır");try{$.each(this.find("input[data-type='number']"),function(e,t){$(t).val($(t).val().replace(".",""))});var t=$(this).serializeArray(),a={};return $.map(t,function(e,t){if(void 0!=a[e.name]){var n=a[e.name];n instanceof Array?n.push(e.value):a[e.name]=[a[e.name],e.value]}else a[e.name]=e.value}),$.each(this.find("input:checkbox"),function(e,t){a[t.name]=t.checked}),a}catch(e){throw e}}catch(e){dp("hata","Parametre hatası: "+e.message)}finally{e.attr("disabled","disabled")}},Array.prototype.update=function(e,t,a,n){for(var i=0;i<this.length;i++)if(this[i][e]==t){this[i][a]=n;break}};var aylar=new Array("Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"),gunler=new Array("Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi");function tarih(e){var t=void 0==e?new Date:e,a=t.getFullYear(),n=t.getMonth()+1,i=t.getDate();t.getDay();return(i=i<10?"0"+i.toString():i)+"."+(n=n<10?"0"+n.toString():n)+"."+a}function tarihsaat(e){var t=void 0==e?new Date:e,a=t.getFullYear(),n=t.getMonth()+1,i=t.getDate(),r=(t.getDay(),t.getHours()),o=t.getMinutes(),s=t.getSeconds();return r=r<10?"0"+r.toString():r,o=o<10?"0"+o.toString():o,s=s<10?"0"+s.toString():s,(i=i<10?"0"+i.toString():i)+"."+(n=n<10?"0"+n.toString():n)+"."+a+" "+r+":"+o+":"+s}function createDate(e){var t=parseInt(e.substring(0,2)),a=parseInt(e.substring(3,5)),n=parseInt(e.substring(6,10));return new Date(n,a-1,t)}function scriptExists(e){var t=!1;return $.each($("script"),function(){if(void 0!=$(this).attr("src")&&$(this).attr("src").toLowerCase().indexOf(e.toLowerCase())>-1)return t=!0,!1}),t}function getParameterByName(e){for(var t=[],a=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),n=0;n<a.length;n++){var i=a[n].split("=");i[0]==e&&t.push(decodeURIComponent(i[1]))}return 0==t.length?null:1==t.length?t[0]:t}function obje_bekleme(e){$(e).offset();var t=$('<div class="" style=" background:url(" + $.baseURI + "/Content/img/gear.gif) no-repeat center center; position: absolute;                                 z-index: 99999; left:0px ; top:0px; width:100%; height:100%;">                          </div>'),a=$('<div class="animated fadeIn radius" style="background-color: rgba(0, 0, 0, 0.3);                     position: absolute;                     z-index: 99998;                     height:100%;                     width:100%;                     top:0px;                     left: 0px;                     "> </div>');return a.append(t),$(e).append(a),a}function obje_bekleme_kaldir(e){$(e)&&$(e).removeClass("fadeIn").fadeOut("fast",function(){$(this).remove()})}function Generator(){}function beklet(e){var t={mesaj:$("<div style='position:fixed;z-index:9999; top:60px;padding:5px;right: 10px;background-color: white;' class='radius shadow animated bounceInRight'><div class='icerik'><img style='height:100px;width=100px;margin-top:-10px;' src='/Content/img/loading.gif'/><span>"+(void 0!=e?e:"İşlem Devam Ediyor...")+"</span></div></div>"),kapat:function(e){void 0==e||e?$(t.mesaj).find(".icerik").fadeOut("fast").end().animate({width:100},"fast",function(){$(t.mesaj).html("<div class='icerik' style:'display:none'><img style='height:90px;width=90px;' src='/Content/img/tamamdir.gif'/></div>"),$(t.mesaj).fadeIn("fast").css("padding",0)}):$(t.mesaj).addClass("bounceOutRight"),setTimeout(function(){t.mesaj.remove(),$(t.mesaj).remove()},1500)},guncelle:function(e){$(t.mesaj).find("span").html(e)}};return t.mesaj.appendTo(document.body),t}function sureEkle(e,t){ajax({url:"/Global/OneCikma_SureEkle",wait:!1,data:{id:t},success:function(e){$m=$("<table class='sureEkleModal'><tr><td>Tip</td><td>"+e.tip+"</td></tr>                             <tr><td>Zaman</td><td class='s'><select style='width:100%;'></select></td></tr>                             <tr><td>Fiyat</td><td class='f'></td></tr>                             <tr><td></td><td class='b'><button class='button w-button'>Ekle</button></td></tr>                             </table>                             "),$s=$m.find(".s select"),$f=$m.find(".f"),$b=$m.find(".b button"),$s.loadArray(e.sureler).select2({language:"tr-TR"}).on("change",function(){var t=$(this).val();$f.html($.grep(e.sureler,function(e,a){return e.id.toString()===t})[0].fiyat+" ₺")}).trigger("change"),$b.on("click",function(){dp("uyari","Burada satın alma sayfasına yönlenecek",5e3)});$("<div></div>").append($m);new jBox("Modal",{content:$m}).open()}})}function OnBegin(e,t){}function OnComplete(e,t){}function OnSuccess(e,t,a){void 0!=e.Action&&("Failure"==e.Action?dp("hata",e.Message,5e3):"Success"==e.Action?dp("basarili",e.Message,5e3):"Redirect"==e.Action&&(window.location=e.Href))}function OnFailure(e,t,a){dp("hata","İşleminize devam edilemiyor, lütfen daha sonra tekrar deneyiniz.",5e3),console.log(e)}Generator.prototype.rand=Math.floor(26*Math.random())+Date.now(),Generator.prototype.getId=function(){return this.rand++},$.fn.loadArray=function(e,t){return $.isArray(e)?($elem=$(this),$.each(e,function(e,a){if($.isArray(a)){if(a.length<=0)return!1;var n=$("<optgroup/>",{label:a[0].grup});$.each(a,function(e,a){n.append("<option "+(t&&t==a.id?"selected='selected'":"")+" value='"+a.id+"'>"+a.deger+"</option>")}),$elem.append(n)}else $elem.append("<option "+(t&&t==a.id?"selected='selected'":"")+" value='"+a.id+"'>"+a.deger+"</option>")}),$elem):(console.log("Parametre dizi değil : arrayToDom"),this)};